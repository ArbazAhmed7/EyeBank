 

@{

    string ModalName, ModalURL, ModalTitle;
    bool isButtonVisible = true;
    int paramCount = Model.Split(';').Length - 1;

    if (paramCount == 3)
    {

        ModalURL = Model.Split(';')[0];
        ModalName = Model.Split(';')[1];
        ModalTitle = Model.Split(';')[2];
        isButtonVisible = Model.Split(';')[3].Equals("1");
    }
    else if (paramCount == 2)
    {
        ModalURL = Model.Split(';')[0];
        ModalName = Model.Split(';')[1];
        ModalTitle = Model.Split(';')[2];
    }
    else if (paramCount == 1)
    {
        ModalURL = Model.Split(';')[0];
        ModalName = Model.Split(';')[1];
        ModalTitle = "Select";
    }
    else
    {
        ModalURL = Model;
        ModalName = "Default";
        ModalTitle = "Select";
    }

}

@{
    if (isButtonVisible)
    {
        <button id="lookup-button-@ModalName" class="lookup-button" data-name="@ModalName" data-url="@ModalURL" data-toggle="modal" data-target="#lookup-modal-@ModalName" type="button"><i class="fa fa-search"></i></button>
    }
}

<div class="modal fade"  id="lookup-modal-@ModalName" tabindex="-1" role="dialog" aria-labelledby="lookupModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <div class="row">
                    <div class="col-md-10">
                        <h3 class="modal-title" id="lookupModalLabel">@ModalTitle</h3>
                    </div>
                    <div class="col-md-2">
                        <button type="button" style="opacity:1" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true" style="color:white; font-size:25px; font-weight: bold;">&times;</span>
                        </button>
                    </div>
                </div>
            </div>
            <div class="modal-body" style="padding-bottom:100px">
                <div style="text-align: center">
                    <span id="loader" style="display: inline-block;" class="loader fa fa-spinner fa-spin fa-3x w-100"></span>
                </div>
                <table id="table-lookup-@ModalName" class="table table-striped table-advance table-hover"></table>
            </div>
        </div>
    </div>
</div>

